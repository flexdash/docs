
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../widget-config/">
      
      
        <link rel="next" href="../node-generator/">
      
      <link rel="icon" href="../../docs.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.2">
    
    
      
        <title>Create an NPM package from an existing widget - FlexDash</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f56500e0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-an-npm-package-from-an-existing-widget" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="FlexDash" class="md-header__button md-logo" aria-label="FlexDash" data-md-component="logo">
      
  <img src="../../docs.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FlexDash
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Create an NPM package from an existing widget
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="FlexDash" class="md-nav__button md-logo" aria-label="FlexDash" data-md-component="logo">
      
  <img src="../../docs.png" alt="logo">

    </a>
    FlexDash
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../known-issues/" class="md-nav__link">
        Known Issues
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../quick-start/">Quick Start</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Quick Start" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Quick Start
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../using-flexdash/">Using FlexDash</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Using FlexDash" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Using FlexDash
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/core-concepts/" class="md-nav__link">
        Core Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/grid-panel-layout/" class="md-nav__link">
        Grid and Panel layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/iframes/" class="md-nav__link">
        IFrames
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/edit-mode/" class="md-nav__link">
        Edit Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/nr-subflows/" class="md-nav__link">
        Node-RED Subflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/array-widgets/" class="md-nav__link">
        Array Widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/colors/" class="md-nav__link">
        Colors and themes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../using-flexdash/time-plots/" class="md-nav__link">
        Customizing Time Plots
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Developing Widgets</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Developing Widgets" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Developing Widgets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        Quickly modify an existing widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../imports/" class="md-nav__link">
        Imports in custom widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vue-primer/" class="md-nav__link">
        Vue primer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vue-extensions/" class="md-nav__link">
        Extensions to Vue components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vuetify-primer/" class="md-nav__link">
        Vuetify Primer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../communication/" class="md-nav__link">
        Mirror state -- don't send messages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../widget-config/" class="md-nav__link">
        Configuring widgets
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Create an NPM package from an existing widget
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Create an NPM package from an existing widget
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-clone-node-red-fd-start" class="md-nav__link">
    1. Clone node-red-fd-start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-copy-the-gauge-widget" class="md-nav__link">
    2. Copy the gauge widget
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-change-the-names" class="md-nav__link">
    3. Change the names
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-generate-the-node-red-node" class="md-nav__link">
    4. Generate the Node-RED node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-install-your-widget-in-node-red" class="md-nav__link">
    5. Install your widget in Node-RED
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-restart-node-red" class="md-nav__link">
    6. Restart Node-RED
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node-generator/" class="md-nav__link">
        Generating nodes from widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../background/" class="md-nav__link">
        Background and Implementation Details
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-clone-node-red-fd-start" class="md-nav__link">
    1. Clone node-red-fd-start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-copy-the-gauge-widget" class="md-nav__link">
    2. Copy the gauge widget
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-change-the-names" class="md-nav__link">
    3. Change the names
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-generate-the-node-red-node" class="md-nav__link">
    4. Generate the Node-RED node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-install-your-widget-in-node-red" class="md-nav__link">
    5. Install your widget in Node-RED
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-restart-node-red" class="md-nav__link">
    6. Restart Node-RED
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="create-an-npm-package-from-an-existing-widget">Create an NPM package from an existing widget</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The steps below have not been tested and the node-red-fd-start repo doesn't exist yet...</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is for users that want to create an NPM package with a custom widget.</p>
</div>
<p>This section walks through the steps to modify an existing widget.
If you are familiar with Vue this may be all you need to start writing your own widgets
(but check out the section on FlexDash extensions to Vue components).
If you are not familiar with Vue, follow along even if you don't understand the details so you
can immediately try out what is described in subsequent sections.</p>
<p>The example used here is to create a <code>my-gauge</code> widget from the <code>gauge</code> widget without any
material change other than the name.</p>
<h3 id="1-clone-node-red-fd-start">1. Clone node-red-fd-start</h3>
<p>The node-red-fd-start repo contains the minimal scaffolding for a set of widgets.</p>
<div class="highlight"><pre><span></span><code>git clone @flexdash/node-red-fd-start node-red-fd-mywidget
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You must use the <code>node-red-fd-</code> prefix or your widget won't be loaded into FlexDash.</p>
</div>
<p>If you don't want a git repo you can also download a zip (click on the green "code" button and choose "download ZIP").</p>
<h3 id="2-copy-the-gauge-widget">2. Copy the gauge widget</h3>
<p>Copy the <code>.vue</code> file of the gauge widget.
The widgets built into FlexDash can be found at https://github.com/flexdash/flexdash/tree/main/src/widgets,
select <code>gauge.vue</code>.
Click on the "raw" button in the bar at the top of the source code, copy all, paste into your
favorite editor into <code>./widgets/my-gauge.vue</code> (below the node-red-fd-start directory).</p>
<h3 id="3-change-the-names">3. Change the names</h3>
<p>In <code>my-gauge.vue</code> around line 43 change the name of the widget from <code>name: 'Gauge'</code> to
<code>name: 'MyGauge'</code>. (Use the CapitalCase spelling: this results in an HTML element <code>&lt;my-gauge&gt;</code>.)</p>
<p>In <code>package.json</code> change <code>my-widget</code> to <code>my-gauge</code>.</p>
<h3 id="4-generate-the-node-red-node">4. Generate the Node-RED node</h3>
<p>For this step you need the generator script <code>gen-widget-nodes.js</code> in the node-red-flexdash repo.
Run it with your current working directory being <code>node-red-fd-mywidget</code>.
If you have a "regular" install of Node-RED you should be able to run it with something like:
<div class="highlight"><pre><span></span><code>node /.../.node-red/node_modules/bin/gen-widget-nodes.js
</code></pre></div>
If you are using docker, the easiest is to git clone the node-red-flexdash repo and use it from there,
e.g.:
<div class="highlight"><pre><span></span><code>cd ..
git clone https://github.com/flexdash/node-red-flexdash.git
cd mywidget
node ../node-red-flexdash/gen-widget-nodes.js
</code></pre></div></p>
<p>You should now have <code>my-gauge.js</code> and <code>my-gauge.html</code>, which form the Node-RED code for
your widget.</p>
<h3 id="5-install-your-widget-in-node-red">5. Install your widget in Node-RED</h3>
<div class="highlight"><pre><span></span><code>cd /.../.node-red
npm i /.../node-red-fd-mywidget
</code></pre></div>
<h3 id="6-restart-node-red">6. Restart Node-RED</h3>
<p>Restart Node-RED, reload any open browser windows with the Node-RED flow editor, then locate
the <code>my-gauge</code> node in the palette within the long list of FlexDash nodes.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.12658920.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5cf534bf.min.js"></script>
      
    
  </body>
</html>